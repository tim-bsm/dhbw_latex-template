%!TEX root = ../document/document.tex

%%%%%%%%%% Special colors (e.g. for listings) %%%%%%%%%%

\definecolor{LinkColor}{HTML}{00007A}
\definecolor{ListingBackground}{HTML}{FCF7DE}
\definecolor{darkblue}{RGB}{42,0.0,255}


%%%%%%%%%% Appendix %%%%%%%%%%

%% BIBLIOGRAPHY
% Nicht zitierte Quellen werden extra aufgeführt
\DeclareBibliographyCategory{cited}
\AtEveryCitekey{\addtocategory{cited}{\thefield{entrykey}}}
\addbibresource{../config/bibliographie.bib}

%% MORE THAN 26 APPENDICES
\makeatletter
% Adds AlphAlph as option to \pagenumbering to allow more than 26 pages in the appendix
\newcommand{\@AlphAlph}{} % Check that \@AlphAlph is undefined.
\let\@AlphAlph=\AlphAlph
\makeatother

%% GLOSSARIES
\ifglossar
    \makeglossaries
\fi


%%%%%%%%%% PDF Settings %%%%%%%%%%

\title{\titel}
\author{\autor}
\date{\datum}


%%%%%%%%%%% Hurenkinder und Schusterjungen verhindern %%%%%%%%%%

\clubpenalty = 10000 % schließt Schusterjungen aus (Seitenumbruch nach der ersten Zeile eines neuen Absatzes)
\widowpenalty = 10000 % schließt Hurenkinder aus (die letzte Zeile eines Absatzes steht auf einer neuen Seite)
\displaywidowpenalty=10000
\setcounter{biburlnumpenalty}{100}
\setcounter{biburllcpenalty}{100}
\setcounter{biburlucpenalty}{100}

\addtokomafont{caption}{\small} % Make font size of captions smaller


%%%%%%%%%% Reference with pages %%%%%%%%%%

% # TODO: fixme
% Add a pageref to autoref whenever the referenced page is not
% the same as the current one useful for printed documents
% without clickable hyperlinks
\ifrefWithPages
    \AtBeginDocument{\let\oldautoref\autoref}
    \AtBeginDocument{
        \renewcommand{\autoref}[1]{%
            \oldautoref{#1}%
            \ifthenelse{\thepage=\pageref{#1}}% if current page number equals the referenced page number
            {}% then add nothing
            { (S. \pageref{#1})}% else add the text
        }
    }
\fi
